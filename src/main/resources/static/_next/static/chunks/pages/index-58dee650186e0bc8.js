(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(827)}])},827:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSG":function(){return E},default:function(){return F}});var d=c(5893),e=c(7568),f=c(4051),g=c.n(f),h=c(9647),i=c(4622),j=c(4006),k=c(3379),l=c.n(k),m=function(a){var b=[];return a.forEach(function(a){a.prereqs.forEach(function(c){b.push({id:"".concat(c,"->").concat(a.id),source:c,target:a.id,type:"floating"})})}),b},n=c(7294),o=c(6242),p=c(4267),q=c(5861),r=c(1664),s=c.n(r),t=function(a){var b=a.data;return(0,d.jsxs)("div",{style:{cursor:"pointer"},children:[(0,d.jsx)(h.HH,{type:"target",position:j.P.Bottom,hidden:!0}),(0,d.jsx)(h.HH,{type:"source",position:j.P.Bottom,hidden:!0}),(0,d.jsx)(s(),{href:"/skills/".concat(b.skill.id),children:(0,d.jsx)(o.Z,{sx:{maxWidth:200,maxHeight:200},children:(0,d.jsx)(p.Z,{children:(0,d.jsx)(q.Z,{variant:"h5",children:b.skill.title})})})})]})},u=c(6042);function v(a,b){var c=a.width,d=a.height,e=a.position,f=b.position,g=c/2,h=d/2,i=e.x+g,j=e.y+h,k=f.x+g,l=f.y+h,m=(k-i)/(2*g)-(l-j)/(2*h),n=(k-i)/(2*g)+(l-j)/(2*h),o=1/(Math.abs(m)+Math.abs(n)),p=o*m,q=o*n;return{x:g*(p+q)+i,y:h*(-p+q)+j}}function w(a,b){var c=(0,u.Z)({},a.position,a),d=Math.round(c.x),e=Math.round(c.y),f=Math.round(b.x),g=Math.round(b.y);return f<=d+1?j.P.Left:f>=d+c.width-1?j.P.Right:g<=e+1?j.P.Top:g>=c.y+c.height-1?j.P.Bottom:j.P.Top}var x,y=function(a){var b=a.id,c=a.source,e=a.target,f=a.markerEnd,g=a.style,i=(0,j.b)((0,n.useCallback)(function(a){return a.nodeInternals.get(c)},[c])),k=(0,j.b)((0,n.useCallback)(function(a){return a.nodeInternals.get(e)},[e]));if(!i||!k)return null;var l,m,o,p,q,r,s=(l=i,o=v(l,m=k),p=v(m,l),q=w(l,o),r=w(m,p),{sx:o.x,sy:o.y,tx:p.x,ty:p.y,sourcePos:q,targetPos:r}),t=s.sx,u=s.sy,x=s.tx,y=s.ty,z=s.sourcePos,A=s.targetPos,B=(0,h.OQ)({sourceX:t,sourceY:u,sourcePosition:z,targetPosition:A,targetX:x,targetY:y});return(0,d.jsx)("g",{className:"react-flow__connection",children:(0,d.jsx)("path",{id:b,className:"react-flow__edge-path",d:B,markerEnd:f,style:g})})},z=new(l())({defaultLayoutOptions:{"elk.algorithm":"force","elk.spacing.nodeNode":"2"}}),A=(x=(0,e.Z)(g().mark(function a(b){var c,d,e,f,h;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:var g;return c=[],d=[],e=(g=b).map(function(a){return{id:a.id,position:{x:0,y:0},data:{skill:a},type:"skill"}}),f=m(b),e.forEach(function(a){c.push({id:a.id,width:200,height:200})}),f.forEach(function(a){var b=a.id,c=a.target,e=a.source;d.push({id:b,target:c,source:e})}),a.next=8,z.layout({id:"root",children:c,edges:d});case 8:return h=a.sent,a.abrupt("return",e.map(function(a){var b,c=null==h?void 0:null===(b=h.children)|| void 0===b?void 0:b.find(function(b){return b.id===a.id});return(null==c?void 0:c.x)&&c.y&&(null==c?void 0:c.width)&&(null==c?void 0:c.height)&&(a.position={x:c.x-c.width/2+Math.random()/1e3,y:c.y-c.height/2}),a}));case 10:case"end":return a.stop()}},a)})),function(a){return x.apply(this,arguments)}),B={skill:t},C={floating:y};function D(a){var b=a.skills,c=(0,n.useState)([]),e=c[0],f=c[1];return((0,n.useEffect)(function(){A(b).then(function(a){return f(a)})},[b]),e)?(0,d.jsx)(h.ZP,{nodeTypes:B,edgeTypes:C,nodes:e,edges:m(b),fitView:!0,fitViewOptions:{padding:.2},children:(0,d.jsx)(i.Z,{variant:j.G.Dots,gap:30,size:1})}):(0,d.jsx)("div",{children:"Loading..."})}var E=!0,F=function(a){var b=a.skills;return(0,d.jsxs)("div",{style:{height:"60vh"},children:[(0,d.jsx)(q.Z,{variant:"h4",component:"h1",gutterBottom:!0,children:"Precurs.io"}),(0,d.jsx)(q.Z,{variant:"body1",gutterBottom:!0,children:"The deliberate practice platform for mathematics."}),(0,d.jsx)(D,{skills:b})]})}}},function(a){a.O(0,[770,370,764,774,888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])